{"ast":null,"code":"var _jsxFileName = \"/Users/ijuhyeon/Documents/community/2-hyun-lee-community-re/my-react-app/src/components/ProfileImageUpload.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProfileImageUpload = ({\n  onImageChange,\n  existingImage\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const [currentImage, setCurrentImage] = useState(existingImage);\n  const drawPlusSign = (ctx, canvas) => {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.beginPath();\n    ctx.strokeStyle = \"#ccc\";\n    ctx.lineWidth = 2;\n    ctx.moveTo(canvas.width / 2, canvas.height / 4);\n    ctx.lineTo(canvas.width / 2, 3 * canvas.height / 4);\n    ctx.moveTo(canvas.width / 4, canvas.height / 2);\n    ctx.lineTo(3 * canvas.width / 4, canvas.height / 2);\n    ctx.stroke();\n  };\n  const loadImageToCanvas = imageSrc => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const img = new Image();\n    img.onload = () => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n    };\n    img.src = imageSrc;\n  };\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        loadImageToCanvas(reader.result);\n        setCurrentImage(reader.result);\n        onImageChange(file);\n      };\n      reader.readAsDataURL(file);\n    } else {\n      if (existingImage) {\n        loadImageToCanvas(existingImage);\n        setCurrentImage(existingImage);\n      } else {\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext(\"2d\");\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        drawPlusSign(ctx, canvas);\n        setCurrentImage(null);\n        onImageChange(null);\n      }\n    }\n  };\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    console.log(\"cu\", currentImage);\n    if (currentImage) {\n      loadImageToCanvas(currentImage);\n    } else {\n      drawPlusSign(ctx, canvas);\n    }\n  }, [currentImage]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"\\uD504\\uB85C\\uD544 \\uC0AC\\uC9C4*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-upload-wrapper d-flex justify-content-center align-itesms-center\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"profileImage\",\n          className: \"circle\",\n          children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvasRef,\n            id: \"profileCanvas\",\n            width: \"100\",\n            height: \"100\",\n            style: {\n              borderRadius: \"50%\",\n              border: \"2px solid #ccc\",\n              cursor: \"pointer\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: handleFileChange,\n        style: {\n          display: \"none\"\n        },\n        id: \"profileImage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(ProfileImageUpload, \"OXvF5cjJ+VmlYRf9MCG2m6FbrCs=\");\n_c = ProfileImageUpload;\nexport default ProfileImageUpload;\nvar _c;\n$RefreshReg$(_c, \"ProfileImageUpload\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Form","jsxDEV","_jsxDEV","Fragment","_Fragment","ProfileImageUpload","onImageChange","existingImage","_s","canvasRef","currentImage","setCurrentImage","drawPlusSign","ctx","canvas","clearRect","width","height","beginPath","strokeStyle","lineWidth","moveTo","lineTo","stroke","loadImageToCanvas","imageSrc","current","getContext","img","Image","onload","drawImage","src","handleFileChange","e","file","target","files","reader","FileReader","result","readAsDataURL","console","log","children","Group","className","Label","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","ref","id","style","borderRadius","border","cursor","Control","type","accept","onChange","display","_c","$RefreshReg$"],"sources":["/Users/ijuhyeon/Documents/community/2-hyun-lee-community-re/my-react-app/src/components/ProfileImageUpload.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\n\nconst ProfileImageUpload = ({onImageChange, existingImage}) =>{\n    const canvasRef = useRef(null);\n    const [currentImage, setCurrentImage] = useState(existingImage); \n\n    const drawPlusSign = (ctx, canvas) => {\n        ctx.clearRect(0, 0, canvas.width, canvas.height); \n        ctx.beginPath();\n    \n        \n        ctx.strokeStyle = \"#ccc\"; \n        ctx.lineWidth = 2; \n    \n        \n        ctx.moveTo(canvas.width / 2, canvas.height / 4);\n        ctx.lineTo(canvas.width / 2, (3 * canvas.height) / 4);\n    \n        \n        ctx.moveTo(canvas.width / 4, canvas.height / 2);\n        ctx.lineTo((3 * canvas.width) / 4, canvas.height / 2);\n    \n        ctx.stroke(); \n      };\n    \n\n    const loadImageToCanvas = (imageSrc) =>{\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext(\"2d\");\n\n        const img = new Image();\n        img.onload = () =>{\n            ctx.clearRect(0, 0, canvas.width, canvas.height); \n            ctx.drawImage(img, 0, 0, canvas.width, canvas.height); \n        }\n        img.src = imageSrc;\n    }\n\n    const handleFileChange = (e) => {\n        const file = e.target.files[0];\n        if (file) {\n          const reader = new FileReader();\n          reader.onload = () => {\n                loadImageToCanvas(reader.result);\n                setCurrentImage(reader.result);\n                onImageChange(file);\n            }\n          reader.readAsDataURL(file);\n        } else {\n            if(existingImage){\n                loadImageToCanvas(existingImage);\n                setCurrentImage(existingImage);\n            } else{\n            const canvas = canvasRef.current;\n            const ctx = canvas.getContext(\"2d\");\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            drawPlusSign(ctx, canvas);\n            setCurrentImage(null);\n            onImageChange(null);\n            }\n            \n            \n        }\n      };\n\n    useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    console.log(\"cu\",currentImage);\n    if (currentImage) {\n        loadImageToCanvas(currentImage);\n      } else {\n        drawPlusSign(ctx, canvas);\n      }\n    }, [currentImage]);\n    return (\n    <>\n        <Form.Group className=\"mb-3\" >\n        <Form.Label >프로필 사진*</Form.Label>\n        <div className=\"profile-upload-wrapper d-flex justify-content-center align-itesms-center\">\n        <label htmlFor=\"profileImage\" className=\"circle\">\n        <canvas\n            ref={canvasRef}\n            id=\"profileCanvas\"\n            width=\"100\"\n            height=\"100\"\n            style={{\n            borderRadius: \"50%\",\n            border: \"2px solid #ccc\",\n            cursor: \"pointer\", \n            }}\n        ></canvas>\n        </label>\n        </div>\n        <Form.Control\n            type=\"file\"\n            accept=\"image/*\"\n            onChange={handleFileChange}\n            style={{    display: \"none\",     }}\n            id=\"profileImage\"\n        />\n      </Form.Group>\n    </>\n    )\n}\n\nexport default ProfileImageUpload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}